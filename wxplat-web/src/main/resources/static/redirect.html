<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>redirect</title>
    <script>
        <!-- 获取浏览器url参数(appId) -->
        function GetQueryString(name)
        {
            var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            var r = window.location.search.substr(1).match(reg);
            if(r!=null)return  unescape(r[2]); return null;
        }
        var appId = GetQueryString("appId");
        <!-- 重定向 -->
        var wxUrl = encodeURI("http://oa.bjjfsoft.com/redirect2.html");
        alert(wxUrl);
        var getCodeUrl = "https://open.weixin.qq.com/connect/oauth2/authorize?appid=" +appId+
            "&redirect_uri="+wxUrl+"&response_type=code&scope=snsapi_base&state="+appId+"#wechat_redirect";
        location.href=getCodeUrl;
    </script>
</head>
<body>

</body>
</html>